<dibl-sidebar></dibl-sidebar>

<div id="page-wrapper" class="gray-bg" ng-controller="InstantMessagingController">

    <dibl-header></dibl-header>

    <dibl-toolbar></dibl-toolbar>

    <div class="row inquiry">
        <div id="inquiry-content" class="col-md-8 wrapper wrapper-content animated fadeIn">
            <div ui-view></div>
        </div>
        <div class="col-lg-4 wrapper wrapper-content small-chat-float" >
            <div class="ibox-chat-content" ng-class="{'fixed-chat':boolChangeClass }">
                <div class="heading">
                    <small class="chat-date pull-right">
                    </small>
                    {{'dibl.inquiry.structure.chat' | translate }}
                </div>
                <div style="position: relative; width: auto; height: 400px;">
                    <div class="chat-discussion" scroll-glue="glued" style="width: auto; height: 400px;">
                        <!--<a class="btn btn-primary btn-rounded btn-block load-more-messages" ng-show="loadMoreButton" ng-click="loadMessages()"><i class="fa fa-info-circle"></i> Click to load more</a>-->

                        <div class="chat-message"
                             ng-class="{'left': message.senderId != myAccount.localId,'right': message.senderId == myAccount.localId }"
                             ng-repeat="message in messages.messages"
                             >

                            <message message="message"></message>

                        </div>

                    </div>
                </div>
                <div class="form-chat">
                    <div class="input-group input-group-sm">
                        <input id="add-new-message"  ng-enter="sendMessage()" type="text" class="form-control" ng-model="bodyMessage">
                        <!--<text-angular ta-toolbar="[]" ng-enter="sendMessage()" ng-model="bodyMessage"></text-angular>-->
                        <span class="input-group-btn">
                            <button ng-click="sendMessage()" ng-disabled="!bodyMessage" class="btn btn-primary" type="button">{{'dibl.inquiry.structure.send' | translate }} </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <dibl-footer></dibl-footer>


    <div ng-class="{ 'active': hiddenDiv }" class="small-chat-box fadeInRight animated" >

        <div class="heading" draggable="true">
            <small class="chat-date pull-right">

            </small>
            Small chat
        </div>

        <div style="position: relative; width: auto; height: 234px;">
            <div class="chat-discussion" scroll-glue style="width: auto; height: 234px;">
                <!--<a class="btn btn-primary btn-rounded btn-block load-more-messages" ng-show="loadMoreButton" ng-click="loadMessages()"><i class="fa fa-info-circle"></i> Click to load more</a>-->

                <div class="chat-message"
                     ng-class="{'left': message.senderId != myAccount.localId,'right': message.senderId == myAccount.localId }"
                     ng-repeat="message in messages.messages">

                    <message message="message"></message>

                </div>

            </div>
        </div>
        <div class="form-chat">
            <div class="input-group input-group-sm">
                <input ng-enter="sendMessage()" type="text" class="form-control" ng-model="bodyMessage">
                <!--<text-angular ta-toolbar="[]" ng-enter="sendMessage()" ng-model="bodyMessage"></text-angular>-->
            <span class="input-group-btn">
                <button ng-click="sendMessage()" ng-disabled="!bodyMessage" class="btn btn-primary" type="button">{{'dibl.inquiry.structure.send' | translate }} </button>
            </span>
            </div>
        </div>
    </div>
    <div id="small-chat">
        <span class="badge badge-warning pull-right">{{ numberMessages }}</span>
        <a class="open-small-chat" ng-click="hiddenDiv = !hiddenDiv">
            <i ng-class="{ 'fa-remove': hiddenDiv, 'fa-comments': !hiddenDiv,  }" class="fa"></i>
        </a>
    </div>

</div>
